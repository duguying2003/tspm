
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- 
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.6
Version: 4.5.4
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    <!-- BEGIN HEAD -->
 
    <head>
        <#include "common/headcss.ftl"/>
        
        <link href="../assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.css" rel="stylesheet" type="text/css" />
        <link href="../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" rel="stylesheet" type="text/css" />
        <link href="../assets/global/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css" />
        <link href="../assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css" />
        <!-- END GLOBAL MANDATORY STYLES -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <link href="../assets/global/plugins/jquery-notific8/jquery.notific8.min.css" rel="stylesheet" type="text/css" />
        <link href="../assets/global/plugins/bootstrap-toastr/toastr.min.css" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL PLUGINS -->
        
        
        
		<!-- ================== BEGIN PAGE LEVEL STYLE ================== -->
		<link href="../assets/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css" />
	    <link href="../assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css" />
	    <link href="../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet" type="text/css" />
	    <link href="../assets/global/plugins/shCircleLoader-master/jquery.shCircleLoader.css" rel="stylesheet" type="text/css" />
		<link href="../assets/layouts/layout/css/layout.bigscream.min.css" rel="stylesheet" type="text/css" />
		<!-- ================== END PAGE LEVEL STYLE ================== -->
		<!-- BEGIN THEME GLOBAL STYLES -->
		<!-- ================== BEGIN BASE JS ================== -->
		
		<!-- ================== END BASE JS ================== -->
    <!-- END HEAD -->
<style type="text/css">

.node rect {
  cursor: move;
  shape-rendering: crispEdges;
}

.node text {
  pointer-events: none;
  text-shadow: 1px 1px 2px #fff;
  font-size: 0.8em;
  font-family: sans-serif;
}

#tooltip {
  position: absolute;
  pointer-events: none;
  font-size: 0.7em;
  font-family: sans-serif;
  padding: 3px;
  width: auto;
  height: auto;
  background-color: #F2F2F2;
  -webkit-box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.4);
  -mox-box-shadow: 0px 0px 0px 5px rgba(0, 0, 0, 0.4);
  box-shadow: 0px 0px 5px rbga(0, 0, 0, 0.4);
  pointer-events: none;
}

.value {
  white-space: pre-line;
  margin: 0;
}
</style>
    <body class=" page-content-white">
    	
        <!-- BEGIN HEADER & CONTENT DIVIDER -->
        <div class="clearfix"> </div>
        <!-- END HEADER & CONTENT DIVIDER -->
        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <!-- BEGIN CONTENT BODY -->
                <div style="margin-left:0px !important;background-size:100%,100%;background-image: URL(../assets/global/img/background/background1.jpg);">
                    <!-- BEGIN PAGE HEADER-->
                    <!-- BEGIN THEME PANEL -->
                    
                    <!-- END THEME PANEL -->
                    <!-- BEGIN PAGE BAR -->
                    <!-- END PAGE BAR -->
                    <!-- BEGIN PAGE TITLE-->
                    <!-- END PAGE TITLE-->
                    <!-- END PAGE HEADER-->
                    <div class="panel panel-inverse">
			    
			</div>
			<!--begin content-->
			<div class="tab-content">
			<div class="tab2 tab-pane active" id="portlet_tab_0" >
			<table style="width:100%">
			<tr>
			<td style="width:33%">
            <div class="col-md-12">
					<div class="portlet-body">
						<div id="bar_bar1" style="height:300px;"></div>
					</div>
            </div>
            </td>
            <td style="width:34%">
            	<div class="col-md-4">
						<div class="portlet-body">
							<div id="line_bar3" style="height:200px;"></div>
						</div>
				</div>
			
            	<div class="col-md-4">
						<div class="portlet-body">
							<div id="line_bar4" style="height:200px;"></div>
						</div>
				</div>
            	<div class="col-md-4">
						<div class="portlet-body">
							<div id="line_bar5" style="height:200px;"></div>
						</div>
				</div>
				<div class="col-md-4">
						<div class="portlet-body">
							<div id="line_bar6" style="height:200px;"></div>
						</div>
				</div>
				<div class="col-md-4">
						<div class="portlet-body">
							<div id="line_bar7" style="height:200px;"></div>
						</div>
				</div>
				<div class="col-md-4">
						<div class="portlet-body">
							<div id="line_bar8" style="height:200px;"></div>
						</div>
				</div>
            </td>
            <td style="width:33%">
            <div class="col-md-12">
					<div class="portlet-body">
						<div id="bar_bar2" style="height:300px;"></div>
					</div>
            </div>
            </td>
            </tr>
            <tr>
            <td style="width:33%">
            <div class="col-md-12">
					<div class="portlet-body">
						<div id="pie_bar1" style="height:400px;"></div>
					</div>
            </div>
            </td>
            <td style="width:34%">
            	<div class="portlet-body">
						<div id="bar3" style="height:400px;"></div>
					</div>
            </td>
            <td style="width:33%">
            <div class="col-md-12">
						<div class="portlet-body">
							<div id="line_bar1" style="height:400px;"></div>
						</div>
			</td>
			</tr>
			<tr>
            <td style="width:33%">
            <div class="col-md-12">
					<div class="portlet-body">
						<div id="bar1" style="height:400px;"></div>
					</div>
            </div>
            </td>
            <td style="width:34%">
            &nbsp;<br/>&nbsp;<br/>&nbsp;<br/>&nbsp;<br/>
            	<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                	<div class="dashboard-stat blue">
                    	<div class="visual">
                        	<i class="fa fa-comments"></i>
                        </div>
                        <div class="details">
                        	<div id="allphonenum" class="number">
                            	<span data-counter="counterup" data-value="1349">0</span>
                            </div>
                            <div class="desc"> 单通电话最多业务数 </div>
                        </div>
                        <a class="more" href="javascript:reflash('allphonenum');"> 刷新
                        	<i class="m-icon-swapright m-icon-white"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                	<div class="dashboard-stat red-pink">
                    	<div class="visual">
                        	<i class="fa fa-bar-chart-o"></i>
                        </div>
                        <div class="details">
                        	<div id="allhumnum" class="number">
                            	<span data-counter="counterup" data-value="1205">0</span> 
                            </div>
                            <div class="desc"> 单通电话最少业务数 </div>
                        </div>
                        <a class="more" href="javascript:reflash('allhumnum');"> 刷新
                        	<i class="m-icon-swapright m-icon-white"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                	<div class="dashboard-stat green">
                    	<div class="visual">
                        	<i class="fa fa-shopping-cart"></i>
                        </div>
                        <div class="details">
                        	<div id="humavgnum" class="number">
                            	<span data-counter="counterup" data-value="1245">0</span>
                            </div>
                            <div class="desc"> 单通电话平均业务数
                            </div>
                        </div>
                        <a class="more" href="javascript:reflash('humavgnum');"> 刷新
                        	<i class="m-icon-swapright m-icon-white"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                	<div class="dashboard-stat blue-hoki">
                    	<div class="visual">
                        	<i class="fa fa-comments"></i>
                        </div>
                        <div class="details">
                        	<div id="allphonenum2" class="number">
                            	<span data-counter="counterup" data-value="2356">0</span>
                            </div>
                            <div class="desc"> 单通电话最多IVR业务数 </div>
                        </div>
                        <a class="more" href="javascript:reflash('allphonenum2');"> 刷新
                        	<i class="m-icon-swapright m-icon-white"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                	<div class="dashboard-stat red">
                    	<div class="visual">
                        	<i class="fa fa-bar-chart-o"></i>
                        </div>
                        <div class="details">
                        	<div id="allhumnum2" class="number">
                            	<span data-counter="counterup" data-value="205">0</span> 
                            </div>
                            <div class="desc"> 单通电话最少IVR业务数 </div>
                        </div>
                        <a class="more" href="javascript:reflash('allhumnum2');"> 刷新
                        	<i class="m-icon-swapright m-icon-white"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                	<div class="dashboard-stat green-sharp">
                    	<div class="visual">
                        	<i class="fa fa-shopping-cart"></i>
                        </div>
                        <div class="details">
                        	<div id="humavgnum2" class="number">
                            	<span data-counter="counterup" data-value="1130">0</span>
                            </div>
                            <div class="desc"> 单通电话平均IVR业务数
                            </div>
                        </div>
                        <a class="more" href="javascript:reflash('humavgnum2');"> 刷新
                        	<i class="m-icon-swapright m-icon-white"></i>
                        </a>
                    </div>
                </div>
            </td>
            <td style="width:33%">
            <div class="col-md-12">
						<div class="portlet-body">
							<div id="pie_bar3" style="height:400px;"></div>
						</div>
			</td>
			</tr>
			</table>
			</div>
			<div class="tab2 tab-pane" id="portlet_tab_1" >
				<div class="row">
					<div class="col-md-12">
						<div class="portlet-body">
							<div id="bar_tab_bar1" style="height:800px;"></div>
						</div>
		            </div>
				</div>
			</div>
			</div>
			<!--end content-->
			<div class="panel-body p-b-5" align="center">
			        <div align="center">
						<div class="btn-group dropdown">
		                    <button class="btn btn-white btn-sm dropdown-toggle" data-toggle="dropdown">
		                       	 时间粒度
		                    </button>
		                </div>
		                <button class="btn1 btn btn-sm btn-default btn-primary" id="time5">昨天</button>
		                <button class="btn1 btn btn-sm btn-default" id="time4">本周</button>
		                <button class="btn1 btn btn-sm btn-default" id="time3">本月</button>
		                <button class="btn1 btn btn-sm btn-default" id="time2">本季度</button>
		                <button class="btn1 btn btn-sm btn-default" id="time1">本年</button>
		                <a onclick="showDate();" class="btn btn-sm btn-default">选择时间段</a>
					</div><br/>
					<div id="datediv" align="center" style="display:none;">
						<nobr><input type="text" class="datepicker-default" style="width:120px;" name="start" placeholder="Date Start" />
		               		 至
		                <input type="text" class="datepicker-default" style="width:120px;" name="end" placeholder="Date End" />
		                <button class="btn btn-sm btn-primary" onclick="toData()">确定</button></nobr>
					</div>
					<div align="center">
						<div class="btn-group dropdown">
		                    <button class="btn btn-white btn-sm dropdown-toggle" data-toggle="dropdown">
		                       	 模块展开
		                    </button>
		                </div>
		                <button class="btn1 btn btn-sm btn-default" onclick="fullscrean('portlet_tab_0')" id="time5">全部</button>
		                <button class="btn1 btn btn-sm btn-default" onclick="fullscrean('portlet_tab_1')" id="time5">业务节点提报柱状图</button>
		                <button class="btn1 btn btn-sm btn-default" id="time4">仪表盘</button>
		                <button class="btn1 btn btn-sm btn-default" id="time3">业务类别提报数量柱状图</button>
		                <button class="btn1 btn btn-sm btn-default" id="time2">交件城市排名地图</button>
		                <button class="btn1 btn btn-sm btn-default" id="time1">来电统计折线图</button>
					</div>
			    </div>
        </div></div></div>
        <!-- END CONTAINER -->
        <#include "common/foot.ftl"/>
        <script src="../assets/global/plugins/counterup/jquery.waypoints.min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/counterup/jquery.counterup.min.js" type="text/javascript"></script>
        <!-- END CORE PLUGINS -->
    	<script src="../assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
    	<script src="../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>
    	<script src="../assets/global/plugins/echarts/echarts.js" type="text/javascript"></script>
    	<script src="../assets/global/plugins/echarts/timelineOption.js" type="text/javascript"></script>
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL SCRIPTS -->
        <script src="../assets/global/scripts/app.min.js" type="text/javascript"></script>
        <!-- END THEME GLOBAL SCRIPTS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="../assets/pages/scripts/portlet-ajax.min.js" type="text/javascript"></script>
        <!-- END PAGE LEVEL SCRIPTS -->
        <!-- BEGIN THEME LAYOUT SCRIPTS -->
        <script src="../assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
        <script src="../assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
        <script src="../assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
        <!-- END THEME LAYOUT SCRIPTS -->
        <script src="../assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/shCircleLoader-master/jquery.shCircleLoader-min.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/d3/d3.v3.min.js"></script>
        <script src="../assets/pages/scripts/bihisankey.js"></script>
        <script src="../assets/global/plugins/amcharts/amcharts/amcharts.js" type="text/javascript"></script>
        <script src="../assets/global/plugins/amcharts/amcharts/pie.js" type="text/javascript"></script>
        <!--private js-->
    	
    	<script type="text/javascript">
    	$.ajaxSetup ({ cache: false }); 
    	function fullscrean(id)
    	{
    		$(".tab2").removeClass("active");
			$("#"+id).addClass("active");
			require(
			["echarts",
			 "echarts/chart/bar",
			 "echarts/chart/heatmap",
			 "echarts/chart/map",
			 "echarts/chart/treemap",
			],
			function(e){
					var q=e.init(document.getElementById("bar_tab_bar1"));
					q.setOption({
						title:{
							text:'2016/02/29-2016/03/06',
							textStyle : {
									color : '#FFF',
									fontSize : 20
								}
							},
						tooltip:{trigger:"axis"},
						legend:{
							data:["业务节点提报数量"],
							textStyle : {
									color : '#FFF',
									fontSize : 20
								}
						},
						toolbox:{show:false},
						yAxis:[{
								type:"category",
								data:['投诉','房贷','商业贷款','人工服务','基金','捐献','故障报修','办理信用卡','信用卡挂失','业务咨询'],
								axisLabel : {
								show : true,
								textStyle : {
									color : '#FFFFFF',
									fontSize : 20
								}}
							   }],
						xAxis:[{type:"value",splitArea:{show:!0},
								axisLabel : {
								show : true,
								textStyle : {
									color : '#FFFFFF'
								}}
						}],
						series:[{
								name:"业务节点提报数量",
								type:"bar",
								data:[90,100,150,190,195,200,250,290,320,323]
								}],
						grid: { // 控制图的大小，调整下面这些值就可以，
				             x: 150,
				             y: 100
				        }
					});
			});
    	}
    		function reflash(id)
    		{
    			$("#"+id).empty();
    			var num = Math.ceil(Math.random()*5000);
    			var temp = "<span id='counterup"+num+"' data-counter=\"counterup\" data-value=\""+num+"\">0</span>";
                $("#"+id).append(temp); 
                $("#counterup"+num).counterUp();
    		}
    		function RndNum(n){
				var rnd="";
				for(var i=0;i<n;i++)
				rnd+=Math.floor(Math.random()*10);
				return rnd;
			}
			function showDate(){
				if($("#datediv").css("display")=='none')
				{
					$("#datediv").css("display","block");
				}else
				{
					$("#datediv").css("display","none");
				}
			}
			var placeHoledStyle = {
					    normal:{
					        barBorderColor:'rgba(0,0,0,0)',
					        color:'rgba(0,0,0,0)'
					    },
					    emphasis:{
					        barBorderColor:'rgba(0,0,0,0)',
					        color:'rgba(0,0,0,0)'
					    }
					};
					var dataStyle = { 
					    normal: {
					        label : {
					            show: true,
					            position: 'insideLeft',
					            formatter: '{c}%'
					        }
					    }
					};
			var ChartsAmcharts = function() {
				var initChartSample1 = function() {
		        var chart = AmCharts.makeChart("pie_bar1", {
		            "type": "pie",
		            "theme": "light",
		
		            "fontFamily": 'Open Sans',
		            
		            "color":    '#888',
		
		            "dataProvider": [{
		                "country": "IVR业务占比",
		                "value": 335,
		                "axisColor": "#FF0F00"
		            }, {
		                "country": "CSR业务占比",
		                "value": 310,
		                "axisColor": "#00FF66"
		            }, {
		                "country": "IVR业务占比1",
		                "value": 310,
		                "axisColor": "#012543"
		            }, {
		                "country": "CSR业务占比1",
		                "value": 310,
		                "axisColor": "#F12548"
		            }],
		            "valueField": "value",
		            "titleField": "country",
		            "outlineAlpha": 0.4,
		            "depth3D": 15,
		            "balloonText": "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>",
		            "angle": 30,
		            "exportConfig": {
		                menuItems: [{
		                    icon: '/lib/3/images/export.png',
		                    format: 'png'
		                }]
		            }
		        });
		        }
		        return {
			        //main function to initiate the module
			
			        init: function() {
			
			            initChartSample1();
			        }
			
			    };
		    }();
			jQuery(document).ready(function(){
				//ChartsAmcharts.init();
				$('.datepicker-default').datepicker({
			        todayHighlight: true
			    });
				require.config(
				{
					paths:
					{
						echarts:"../assets/global/plugins/echarts/"
					}
				}),
				require(
				["echarts",
				 "echarts/chart/line",
				 "echarts/chart/pie",
				 "echarts/chart/bar",
				 "echarts/chart/gauge",
				 "echarts/chart/map"
				],
				function(e){
					var c=e.init(document.getElementById("bar_bar1"));
					c.setOption({
						title:{
							text:'2016/02/29-2016/03/06',
							textStyle : {
									color : '#FFF'
								}
							},
						tooltip:{trigger:"axis"},
						legend:{
							data:["业务节点提报数量"],
							textStyle : {
									color : '#FFF'
								}
						},
						toolbox:{show:false},
						yAxis:[{
								type:"category",
								data:['故障报修','办理信用卡','信用卡挂失','业务咨询','投诉'],
								axisLabel : {
								show : true,
								textStyle : {
									color : '#FFFFFF'
								}},
								splitLine:{show: false} //背景网格取消
							   }],
						xAxis:[{type:"value",
								axisLabel : {
								show : true,
								textStyle : {
									color : '#FFFFFF'
								}},
								splitLine:{show: false} //背景网格取消
						}],
						series:[{
								name:"业务节点提报数量",
								type:"bar",
								data:[200,250,290,320,323],
								itemStyle: {normal: {areaStyle: {type: 'default'}}}
								}]
					});
					var d=e.init(document.getElementById("bar_bar2"));
					d.setOption({
						title:{
							text:'2016/02/29-2016/03/06',
							textStyle : {
									color : '#FFF'
								}
						},
						tooltip:{trigger:"axis"},
						legend:{
							data:["业务类别提报数量"],
							textStyle : {
									color : '#FFF'
								}
						},
						toolbox:{show:false},
								 yAxis:[{
									 type:"category",
									 data:['IVR(故障报修)','CSR(办理信用卡)','CSR(信用卡挂失)','IVR(业务咨询)','CSR(投诉)'],
									 axisLabel : {
										show : true,
										textStyle : {
											color : '#FFFFFF'
									 }}
								}],
								 xAxis:[{type:"value",splitArea:{show:!0}}],
								 
								 series:[
								 {
								 	name:"业务类别提报数量",
									type:"bar",
									itemStyle:{
				                	normal:{
				                    	color: function(params) {
				                    			return '#B5C334';
				                    		}
				                		}
				                	},
									data:[100,150,190,220,223]
								 }]
					});
					var f=e.init(document.getElementById("line_bar1"));
							f.setOption({
							tooltip : {
						        trigger: 'axis'
						    },
						    legend: {
						        data:['单日来电数','来电人数','单用户平均来电数'],
								textStyle : {
									color : '#FFFFFF'
								}
						    },
						    toolbox: {
						        show : true,
						        feature : {
						            saveAsImage : {show: true}
						        }
						    },
						    calculable : true,
						    xAxis : [
						        {
						            type : 'category',
						            boundaryGap : false,
						            data : ['2016-2-29','2016-3-1','2016-3-2','2016-3-3','2016-3-4','2016-3-5','2016-3-6'],
						            axisLabel : {
									show : true,
									textStyle : {
										color : '#FFFFFF'
									}}
						        }
						    ],
						    yAxis : [{
						            type : 'value',
						            axisLabel : {
									show : true,
									textStyle : {
										color : '#FFFFFF'
									}}
						        }],
						    series : [
						        {
						            name:'单日来电数',
						            type:'line',
						            smooth:true,
						            itemStyle: {normal: {areaStyle: {type: 'default'}}},
						            data:[120, 132, 101, 134, 90, 230, 210]
						        },
						        {
						            name:'来电人数',
						            type:'line',
						            smooth:true,
						            itemStyle: {normal: {areaStyle: {type: 'default'}}},
						            data:[220, 182, 191, 234, 290, 330, 310]
						        },
						        {
						            name:'单用户平均来电数',
						            type:'line',
						            smooth:true,
						            itemStyle: {normal: {areaStyle: {type: 'default'}}},
						            data:[150, 232, 201, 154, 190, 330, 410]
						        }
						    ]
						    });
					var g=e.init(document.getElementById("pie_bar1"));
							g.setOption({
							tooltip : {
						        trigger: 'item',
						        formatter: "{a} <br/>{b} : {c} ({d}%)"
						    },
						    legend: {
						        orient : 'vertical',
						        x : 'left',
						        data:['IVR信用卡业务','IVR存款业务','CSR咨询','IVR贷款业务'],
								textStyle : {
									color : '#FFF'
								}
						    },
						    toolbox: {
						        show : false
						    },
						    calculable : false,
						    series : [
						        {
						            name:'访问来源',
						            type:'pie',
						            radius : [100, 140],
						            
						            // for funnel
						            x: '60%',
						            width: '35%',
						            funnelAlign: 'left',
						            max: 1048,
						            data:[
						                {value:335, name:'IVR信用卡业务'},
						                {value:310, name:'IVR存款业务'},
						                {value:234, name:'CSR咨询'},
						                {value:1048, name:'IVR贷款业务'}
						            ]
						        }
						    ]
						    });
					var h=e.init(document.getElementById("line_bar3"));
							h.setOption({
							tooltip : {
						        formatter: "{a} <br/>{b} : {c}%"
						    },
						    toolbox: {
						        show : false
						    },
						    series : [
						        {
						            name:'个性化仪表盘',
						            type:'gauge',
						            center : ['50%', '50%'],    // 默认全局居中
						            radius : [0, '75%'],
						            startAngle: 140,
						            endAngle : -140,
						            min: 0,                     // 最小值
						            max: 100,                   // 最大值
						            precision: 0,               // 小数精度，默认为0，无小数点
						            splitNumber: 10,             // 分割段数，默认为5
						            axisLine: {            // 坐标轴线
						                show: true,        // 默认显示，属性show控制显示与否
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: [[0.2, 'lightgreen'],[0.4, 'orange'],[0.8, 'skyblue'],[1, '#ff4500']], 
						                    width: 30
						                }
						            },
						            axisTick: {            // 坐标轴小标记
						                show: true,        // 属性show控制显示与否，默认不显示
						                splitNumber: 5,    // 每份split细分多少段
						                length :8,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: '#eee',
						                    width: 1,
						                    type: 'solid'
						                }
						            },
						            axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
						                show: true,
						                formatter: function(v){
						                    switch (v+''){
						                        case '10': return '弱';
						                        case '30': return '低';
						                        case '60': return '中';
						                        case '90': return '高';
						                        default: return '';
						                    }
						                },
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF'
						                }
						            },
						            splitLine: {           // 分隔线
						                show: true,        // 默认显示，属性show控制显示与否
						                length :30,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
						                    color: '#eee',
						                    width: 2,
						                    type: 'solid'
						                }
						            },
						            pointer : {
						                length : '80%',
						                width : 8,
						                color : 'auto'
						            },
						            title : {
						                show : true,
						                offsetCenter: ['-65%', -10],       // x, y，单位px
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF',
						                    fontSize : 5
						                }
						            },
						            detail : {
						                show : true,
						                backgroundColor: 'rgba(0,0,0,0)',
						                borderWidth: 0,
						                borderColor: '#ccc',
						                width: 100,
						                height: 40,
						                offsetCenter: ['-60%', 10],       // x, y，单位px
						                formatter:'{value}%',
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: 'auto',
						                    fontSize : 5
						                }
						            },
						            data:[{value: 50, name: '仪表盘'}]
						        }
						    ]
						    });
					var i=e.init(document.getElementById("line_bar4"));
							i.setOption({
							tooltip : {
						        formatter: "{a} <br/>{b} : {c}%"
						    },
						    toolbox: {
						        show : false
						    },
						    series : [
						        {
						            name:'个性化仪表盘',
						            type:'gauge',
						            center : ['50%', '50%'],    // 默认全局居中
						            radius : [0, '75%'],
						            startAngle: 140,
						            endAngle : -140,
						            min: 0,                     // 最小值
						            max: 100,                   // 最大值
						            precision: 0,               // 小数精度，默认为0，无小数点
						            splitNumber: 10,             // 分割段数，默认为5
						            axisLine: {            // 坐标轴线
						                show: true,        // 默认显示，属性show控制显示与否
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: [[0.2, 'lightgreen'],[0.4, 'orange'],[0.8, 'skyblue'],[1, '#ff4500']], 
						                    width: 30
						                }
						            },
						            axisTick: {            // 坐标轴小标记
						                show: true,        // 属性show控制显示与否，默认不显示
						                splitNumber: 5,    // 每份split细分多少段
						                length :8,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: '#eee',
						                    width: 1,
						                    type: 'solid'
						                }
						            },
						            axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
						                show: true,
						                formatter: function(v){
						                    switch (v+''){
						                        case '10': return '弱';
						                        case '30': return '低';
						                        case '60': return '中';
						                        case '90': return '高';
						                        default: return '';
						                    }
						                },
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF'
						                }
						            },
						            splitLine: {           // 分隔线
						                show: true,        // 默认显示，属性show控制显示与否
						                length :30,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
						                    color: '#eee',
						                    width: 2,
						                    type: 'solid'
						                }
						            },
						            pointer : {
						                length : '80%',
						                width : 8,
						                color : 'auto'
						            },
						            title : {
						                show : true,
						                offsetCenter: ['-65%', -10],       // x, y，单位px
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF',
						                    fontSize : 5
						                }
						            },
						            detail : {
						                show : true,
						                backgroundColor: 'rgba(0,0,0,0)',
						                borderWidth: 0,
						                borderColor: '#ccc',
						                width: 100,
						                height: 40,
						                offsetCenter: ['-60%', 10],       // x, y，单位px
						                formatter:'{value}%',
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: 'auto',
						                    fontSize : 5
						                }
						            },
						            data:[{value: 50, name: '仪表盘'}]
						        }
						    ]
						    });
					var j=e.init(document.getElementById("line_bar5"));
							j.setOption({
							tooltip : {
						        formatter: "{a} <br/>{b} : {c}%"
						    },
						    toolbox: {
						        show : false
						    },
						    series : [
						        {
						            name:'个性化仪表盘',
						            type:'gauge',
						            center : ['50%', '50%'],    // 默认全局居中
						            radius : [0, '75%'],
						            startAngle: 140,
						            endAngle : -140,
						            min: 0,                     // 最小值
						            max: 100,                   // 最大值
						            precision: 0,               // 小数精度，默认为0，无小数点
						            splitNumber: 10,             // 分割段数，默认为5
						            axisLine: {            // 坐标轴线
						                show: true,        // 默认显示，属性show控制显示与否
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: [[0.2, 'lightgreen'],[0.4, 'orange'],[0.8, 'skyblue'],[1, '#ff4500']], 
						                    width: 30
						                }
						            },
						            axisTick: {            // 坐标轴小标记
						                show: true,        // 属性show控制显示与否，默认不显示
						                splitNumber: 5,    // 每份split细分多少段
						                length :8,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: '#eee',
						                    width: 1,
						                    type: 'solid'
						                }
						            },
						            axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
						                show: true,
						                formatter: function(v){
						                    switch (v+''){
						                        case '10': return '弱';
						                        case '30': return '低';
						                        case '60': return '中';
						                        case '90': return '高';
						                        default: return '';
						                    }
						                },
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF'
						                }
						            },
						            splitLine: {           // 分隔线
						                show: true,        // 默认显示，属性show控制显示与否
						                length :30,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
						                    color: '#eee',
						                    width: 2,
						                    type: 'solid'
						                }
						            },
						            pointer : {
						                length : '80%',
						                width : 8,
						                color : 'auto'
						            },
						            title : {
						                show : true,
						                offsetCenter: ['-65%', -10],       // x, y，单位px
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF',
						                    fontSize : 5
						                }
						            },
						            detail : {
						                show : true,
						                backgroundColor: 'rgba(0,0,0,0)',
						                borderWidth: 0,
						                borderColor: '#ccc',
						                width: 100,
						                height: 40,
						                offsetCenter: ['-60%', 10],       // x, y，单位px
						                formatter:'{value}%',
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: 'auto',
						                    fontSize : 5
						                }
						            },
						            data:[{value: 50, name: '仪表盘'}]
						        }
						    ]
						    });
					var k=e.init(document.getElementById("line_bar6"));
							k.setOption({
							tooltip : {
						        formatter: "{a} <br/>{b} : {c}%"
						    },
						    toolbox: {
						        show : false
						    },
						    series : [
						        {
						            name:'个性化仪表盘',
						            type:'gauge',
						            center : ['50%', '50%'],    // 默认全局居中
						            radius : [0, '75%'],
						            startAngle: 140,
						            endAngle : -140,
						            min: 0,                     // 最小值
						            max: 100,                   // 最大值
						            precision: 0,               // 小数精度，默认为0，无小数点
						            splitNumber: 10,             // 分割段数，默认为5
						            axisLine: {            // 坐标轴线
						                show: true,        // 默认显示，属性show控制显示与否
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: [[0.2, 'lightgreen'],[0.4, 'orange'],[0.8, 'skyblue'],[1, '#ff4500']], 
						                    width: 30
						                }
						            },
						            axisTick: {            // 坐标轴小标记
						                show: true,        // 属性show控制显示与否，默认不显示
						                splitNumber: 5,    // 每份split细分多少段
						                length :8,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle控制线条样式
						                    color: '#eee',
						                    width: 1,
						                    type: 'solid'
						                }
						            },
						            axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
						                show: true,
						                formatter: function(v){
						                    switch (v+''){
						                        case '10': return '弱';
						                        case '30': return '低';
						                        case '60': return '中';
						                        case '90': return '高';
						                        default: return '';
						                    }
						                },
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF'
						                }
						            },
						            splitLine: {           // 分隔线
						                show: true,        // 默认显示，属性show控制显示与否
						                length :30,         // 属性length控制线长
						                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
						                    color: '#eee',
						                    width: 2,
						                    type: 'solid'
						                }
						            },
						            pointer : {
						                length : '80%',
						                width : 8,
						                color : 'auto'
						            },
						            title : {
						                show : true,
						                offsetCenter: ['-65%', -10],       // x, y，单位px
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF',
						                    fontSize : 5
						                }
						            },
						            detail : {
						                show : true,
						                backgroundColor: 'rgba(0,0,0,0)',
						                borderWidth: 0,
						                borderColor: '#ccc',
						                width: 100,
						                height: 40,
						                offsetCenter: ['-60%', 10],       // x, y，单位px
						                formatter:'{value}%',
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: 'auto',
						                    fontSize : 5
						                }
						            },
						            data:[{
						            	value: 50, name: '仪表盘'
						            }]
						        }
						    ]
						    });
					var n=e.init(document.getElementById("pie_bar3"));
							n.setOption({
							timeline:{
						        data:[
						            '2002-01-01','2003-01-01','2004-01-01','2005-01-01','2006-01-01',
						            '2007-01-01','2008-01-01','2009-01-01','2010-01-01','2011-01-01'
						        ],
						        label : {
						            formatter : function(s) {
						                return s.slice(0, 4);
						            },
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        autoPlay : true,
						        playInterval : 1000,
						        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						    },
						    options:[
						        {
						            title : {
						                'text':'2002全国宏观经济指标',
						                'subtext':'数据来自国家统计局',
						                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF'
						                },
						                subtextStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
						                    color: '#FFF'
						                },
						            },
						            tooltip : {'trigger':'axis'},
						            legend : {
						                x:'right',
						                'data':['GDP','金融','房地产','第一产业','第二产业','第三产业'],
						                'selected':{
						                    'GDP':true,
						                    '金融':false,
						                    '房地产':true,
						                    '第一产业':false,
						                    '第二产业':false,
						                    '第三产业':false
						                },
							            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
						                }
						            },
						            toolbox : {
						                'show':false
						            },
						            calculable : true,
						            grid : {'y':80,'y2':100},
						            xAxis : [{
						                type:'category',
						                axisLabel:{
						                	'interval':0,
						                	textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							            		color: '#FFF'
							            	}
						                },
						                data:[
						                    '北京','\n天津','河北','\n山西','内蒙古','\n辽宁','吉林','\n黑龙江',
						                    '上海','\n江苏','浙江','\n安徽','福建','\n江西','山东','\n河南',
						                    '湖北','\n湖南','广东','\n广西','海南','\n重庆','四川','\n贵州',
						                    '云南','\n西藏','陕西','\n甘肃','青海','\n宁夏','新疆'
						                ],
						            }],
						            yAxis : [
						                {
						                    type:'value',
						                    name:'GDP（亿元）',
						                    max:53500,
						                    axisLabel:{
							                    textStyle: {       
								                    color: '#FFF'
								                }
							                }
						                },
						                {
						                    'type':'value',
						                    'name':'其他（亿元）',
						                    axisLabel:{
							                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
								                    color: '#FFF'
								                }
							                }
						                }
						            ],
						            series : [
						                {
						                    'name':'GDP',
						                    'type':'bar',
						                    'markLine':{
						                        symbol : ['arrow','none'],
						                        symbolSize : [4, 2],
						                        itemStyle : {
						                            normal: {
						                                lineStyle: {color:'orange'},
						                                barBorderColor:'orange',
						                                label:{
						                                    position:'left',
						                                    formatter:function(params){
						                                        return Math.round(params.value);
						                                    },
						                                    textStyle:{color:'orange'}
						                                }
						                            }
						                        },
						                        'data':[{'type':'average','name':'平均值'}]
						                    },
						                    'data': dataMap.dataGDP['2002']
						                },
						                {
						                    'name':'金融','yAxisIndex':1,'type':'bar',
						                    'data': dataMap.dataFinancial['2002'],
						                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						                },
						                {
						                    'name':'房地产','yAxisIndex':1,'type':'bar',
						                    'data': dataMap.dataEstate['2002'],
						                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						                },
						                {
						                    'name':'第一产业','yAxisIndex':1,'type':'bar',
						                    'data': dataMap.dataPI['2002'],
						                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						                },
						                {
						                    'name':'第二产业','yAxisIndex':1,'type':'bar',
						                    'data': dataMap.dataSI['2002'],
						                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						                },
						                {
						                    'name':'第三产业','yAxisIndex':1,'type':'bar',
						                    'data': dataMap.dataTI['2002'],
						                    textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						                }
						            ]
						        },
						        {
						            title : {'text':'2003全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2003']},
						                {'data': dataMap.dataFinancial['2003']},
						                {'data': dataMap.dataEstate['2003']},
						                {'data': dataMap.dataPI['2003']},
						                {'data': dataMap.dataSI['2003']},
						                {'data': dataMap.dataTI['2003']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2004全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2004']},
						                {'data': dataMap.dataFinancial['2004']},
						                {'data': dataMap.dataEstate['2004']},
						                {'data': dataMap.dataPI['2004']},
						                {'data': dataMap.dataSI['2004']},
						                {'data': dataMap.dataTI['2004']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2005全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2005']},
						                {'data': dataMap.dataFinancial['2005']},
						                {'data': dataMap.dataEstate['2005']},
						                {'data': dataMap.dataPI['2005']},
						                {'data': dataMap.dataSI['2005']},
						                {'data': dataMap.dataTI['2005']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2006全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2006']},
						                {'data': dataMap.dataFinancial['2006']},
						                {'data': dataMap.dataEstate['2006']},
						                {'data': dataMap.dataPI['2006']},
						                {'data': dataMap.dataSI['2006']},
						                {'data': dataMap.dataTI['2006']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2007全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2007']},
						                {'data': dataMap.dataFinancial['2007']},
						                {'data': dataMap.dataEstate['2007']},
						                {'data': dataMap.dataPI['2007']},
						                {'data': dataMap.dataSI['2007']},
						                {'data': dataMap.dataTI['2007']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2008全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2008']},
						                {'data': dataMap.dataFinancial['2008']},
						                {'data': dataMap.dataEstate['2008']},
						                {'data': dataMap.dataPI['2008']},
						                {'data': dataMap.dataSI['2008']},
						                {'data': dataMap.dataTI['2008']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2009全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2009']},
						                {'data': dataMap.dataFinancial['2009']},
						                {'data': dataMap.dataEstate['2009']},
						                {'data': dataMap.dataPI['2009']},
						                {'data': dataMap.dataSI['2009']},
						                {'data': dataMap.dataTI['2009']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2010全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2010']},
						                {'data': dataMap.dataFinancial['2010']},
						                {'data': dataMap.dataEstate['2010']},
						                {'data': dataMap.dataPI['2010']},
						                {'data': dataMap.dataSI['2010']},
						                {'data': dataMap.dataTI['2010']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        },
						        {
						            title : {'text':'2011全国宏观经济指标'},
						            series : [
						                {'data': dataMap.dataGDP['2011']},
						                {'data': dataMap.dataFinancial['2011']},
						                {'data': dataMap.dataEstate['2011']},
						                {'data': dataMap.dataPI['2011']},
						                {'data': dataMap.dataSI['2011']},
						                {'data': dataMap.dataTI['2011']}
						            ],
						            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
						        }
						    ]
						    });
					
					var o=e.init(document.getElementById("bar1"));
					o.setOption({
						title: {
				        text: '多维条形图',
				        subtext: 'From ExcelHome',
				        textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
				    },
				    tooltip : {
				        trigger: 'axis',
				        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
				            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
				        },
				        formatter : '{b}<br/>{a0}:{c0}%<br/>{a2}:{c2}%<br/>{a4}:{c4}%<br/>{a6}:{c6}%'
				    },
				    legend: {
				        y: 55,
				        itemGap : document.getElementById('bar1').offsetWidth / 8,
				        data:['GML', 'PYP','WTC', 'ZTW'],
				         textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
				    },
				    toolbox: {
				        show : false
				    },
				    grid: {
				        y: 80,
				        y2: 30
				    },
				    xAxis : [
				        {
				            type : 'value',
				            position: 'top',
				            splitLine: {show: false},
				            axisLabel: {show: false,
				             textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
				            }
				        }
				    ],
				    yAxis : [
				        {
				            type : 'category',
				            splitLine: {show: false},
				            data : ['重庆', '天津', '上海', '北京'],
				            axisLabel: {show: false,
				             textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
							                    color: '#FFF'
							                }
				            }
				        }
				    ],
				    series : [
				        {
				            name:'GML',
				            type:'bar',
				            stack: '总量',
				            itemStyle : dataStyle,
				            data:[38, 50, 33, 72]
				        },
				        {
				            name:'GML',
				            type:'bar',
				            stack: '总量',
				            itemStyle: placeHoledStyle,
				            data:[62, 50, 67, 28]
				        },
				        {
				            name:'PYP',
				            type:'bar',
				            stack: '总量',
				            itemStyle : dataStyle,
				            data:[61, 41, 42, 30]
				        },
				        {
				            name:'PYP',
				            type:'bar',
				            stack: '总量',
				            itemStyle: placeHoledStyle,
				            data:[39, 59, 58, 70]
				        },
				        {
				            name:'WTC',
				            type:'bar',
				            stack: '总量',
				            itemStyle : dataStyle,
				            data:[37, 35, 44, 60]
				        },
				        {
				            name:'WTC',
				            type:'bar',
				            stack: '总量',
				            itemStyle: placeHoledStyle,
				            data:[63, 65, 56, 40]
				        },
				        {
				            name:'ZTW',
				            type:'bar',
				            stack: '总量',
				            itemStyle : dataStyle,
				            data:[71, 50, 31, 39]
				        },
				        {
				            name:'ZTW',
				            type:'bar',
				            stack: '总量',
				            itemStyle: placeHoledStyle,
				            data:[29, 50, 69, 61]
				        }
				    ]
					});
					var p=e.init(document.getElementById("bar3"));
					p.setOption({
						title : {
				        text: '交件城市分布排名（Top 10）',
				        x:'center'
				    },
				    tooltip : {
				        trigger: 'item'
				    },
				    legend: {
				        orient: 'vertical',
				        x:'left',
				        data:['交件数']
				    },
				    dataRange: {
				        min : 0,
				        max : 500,
				        calculable : true,
				        color: ['#B03060','#A020F0','#FF0000','#FFA500','#FFFF00','#90EE90']
				    },
				    toolbox: {
				        show : false,
				        orient : 'vertical',
				        x: 'right',
				        y: 'center',
				        feature : {
				            mark : {show: true},
				            dataView : {show: true, readOnly: false},
				            restore : {show: true},
				            saveAsImage : {show: true}
				        }
				    },
				    series : [
				        {
				            name: '交件数',
				            type: 'map',
				            mapType: 'china',
				            hoverable: false,
				            roam:true,
				            data : [],
				            itemStyle:{
				                normal:{
				                  areaStyle:{color:'rgba(240,255,255,0.5)'}
				                }
				            },
				            markPoint : {
				                symbolSize: 5,       // 标注大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2
				                itemStyle: {
				                    normal: {
				                        borderColor: '#87cefa',
				                        borderWidth: 1,            // 标注边线线宽，单位px，默认为1
				                        label: {
				                            show: false
				                        }
				                    },
				                    emphasis: {
				                        borderColor: '#1e90ff',
				                        borderWidth: 5,
				                        label: {
				                            show: false
				                        }
				                    }
				                },
				                data : [
				                    {name: "上海", value: 450},
				                    {name: "广州", value: 375},
				                    {name: "珠海", value: 250},
				                    {name: "苏州", value: 200},
				                    {name: "成都", value: 260},
				                    {name: "西安", value: 260},
				                    {name: "南京", value: 180},
				                    {name: "北京", value: 470},
				                    {name: "杭州", value: 270},
				                    {name: "武汉", value: 270}
				                ]
				            },
				            geoCoord: {
				    			"上海":[121.48, 31.22],
							    "广州":[113.23, 23.16],
							    "珠海":[113.52, 22.3],
							    "苏州":[120.62, 31.32],
							    "成都":[104.06, 30.67],
							    "西安":[108.95, 34.27],
							    "南京":[118.78, 32.04],
							    "北京":[116.46, 39.92],
							    "杭州":[120.19, 30.26],
							    "武汉":[114.31, 30.52]
				            }
				        },
				        {
				            name: 'Top10',
				            type: 'map',
				            mapType: 'china',
				            data:[],
				            markPoint : {
				                symbol:'emptyCircle',
				                symbolSize : function (v){
				                    return 10 + v/100
				                },
				                effect : {
				                    show: true,
				                    shadowBlur : 0
				                },
				                itemStyle:{
				                    normal:{
				                        label:{show:false}
				                    }
				                },
				                data : [
				                    {name: "上海", value: 450},
				                    {name: "广州", value: 375},
				                    {name: "珠海", value: 250},
				                    {name: "苏州", value: 200},
				                    {name: "成都", value: 260},
				                    {name: "西安", value: 260},
				                    {name: "南京", value: 180},
				                    {name: "北京", value: 470},
				                    {name: "杭州", value: 270},
				                    {name: "武汉", value: 270}
				                ]
				            }
				        }
				    ]
					});
					var l=e.init(document.getElementById("line_bar7"));
					var m=e.init(document.getElementById("line_bar8"));
					option = {
					    tooltip : {
					        formatter: "{a} <br/>{b} : {c}%"
					    },
					    toolbox: {
					        show : false
					    },
					    series : [
					        {
					            name:'个性化仪表盘',
					            type:'gauge',
					            center : ['50%', '50%'],    // 默认全局居中
					            radius : [0, '75%'],
					            startAngle: 140,
					            endAngle : -140,
					            min: 0,                     // 最小值
					            max: 100,                   // 最大值
					            precision: 0,               // 小数精度，默认为0，无小数点
					            splitNumber: 10,             // 分割段数，默认为5
					            axisLine: {            // 坐标轴线
					                show: true,        // 默认显示，属性show控制显示与否
					                lineStyle: {       // 属性lineStyle控制线条样式
					                    color: [[0.2, 'lightgreen'],[0.4, 'orange'],[0.8, 'skyblue'],[1, '#ff4500']], 
					                    width: 30
					                }
					            },
					            axisTick: {            // 坐标轴小标记
					                show: true,        // 属性show控制显示与否，默认不显示
					                splitNumber: 5,    // 每份split细分多少段
					                length :8,         // 属性length控制线长
					                lineStyle: {       // 属性lineStyle控制线条样式
					                    color: '#eee',
					                    width: 1,
					                    type: 'solid'
					                }
					            },
					            axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
					                show: true,
					                formatter: function(v){
					                    switch (v+''){
					                        case '10': return '弱';
					                        case '30': return '低';
					                        case '60': return '中';
					                        case '90': return '高';
					                        default: return '';
					                    }
					                },
					                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
					                    color: '#FFF'
					                }
					            },
					            splitLine: {           // 分隔线
					                show: true,        // 默认显示，属性show控制显示与否
					                length :30,         // 属性length控制线长
					                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
					                    color: '#eee',
					                    width: 2,
					                    type: 'solid'
					                }
					            },
					            pointer : {
					                length : '80%',
					                width : 8,
					                color : 'auto'
					            },
					            title : {
					                show : true,
					                offsetCenter: ['-65%', -10],       // x, y，单位px
					                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
					                    color: '#FFF',
					                    fontSize : 5
					                }
					            },
					            detail : {
					                show : true,
					                backgroundColor: 'rgba(0,0,0,0)',
					                borderWidth: 0,
					                borderColor: '#ccc',
					                width: 100,
					                height: 40,
					                offsetCenter: [0, -100],       // x, y，单位px
					                formatter:'{value}%',
					                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
					                    color: 'auto',
					                    fontSize : 5
					                }
					            },
					            data:[{value: 50, name: '仪表盘'}]
					        }
					    ]
					};
					setInterval(function (){
					    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;
					    l.setOption(option, true);
					},2000)
					setInterval(function (){
					    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;
					    m.setOption(option, true);
					},2000)
					setInterval(function (){
					    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;
					    i.setOption(option, true);
					},2000)
					setInterval(function (){
					    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;
					    j.setOption(option, true);
					},2000)
					setInterval(function (){
					    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;
					    k.setOption(option, true);
					},2000)
					setInterval(function (){
					    option.series[0].data[0].value = (Math.random()*100).toFixed(2) - 0;
					    h.setOption(option, true);
					},2000)
					
				})
				
				var svg, tooltip, biHiSankey, path, defs, colorScale, highlightColorScale, isTransitioning;

				var OPACITY = {
				    NODE_DEFAULT: 0.9,
				    NODE_FADED: 0.1,
				    NODE_HIGHLIGHT: 0.8,
				    LINK_DEFAULT: 0.6,
				    LINK_FADED: 0.05,
				    LINK_HIGHLIGHT: 0.9
				  },
				  TYPES = ["欢迎", "信用卡业务", "网上银行业务", "投诉与相关建议", "人工服务","信用卡挂失","查询"],
				  TYPE_COLORS = ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d"],
				  TYPE_HIGHLIGHT_COLORS = ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494"],
				  LINK_COLOR = "#b3b3b3",
				  INFLOW_COLOR = "#2E86D1",
				  OUTFLOW_COLOR = "#D63028",
				  NODE_WIDTH = 36,
				  COLLAPSER = {
				    RADIUS: NODE_WIDTH / 2,
				    SPACING: 2
				  },
				  OUTER_MARGIN = 10,
				  MARGIN = {
				    TOP: 2 * (COLLAPSER.RADIUS + OUTER_MARGIN),
				    RIGHT: OUTER_MARGIN,
				    BOTTOM: OUTER_MARGIN,
				    LEFT: OUTER_MARGIN
				  },
				  TRANSITION_DURATION = 400,
				  HEIGHT = 500 - MARGIN.TOP - MARGIN.BOTTOM,
				  WIDTH = 1000 - MARGIN.LEFT - MARGIN.RIGHT,
				  LAYOUT_INTERATIONS = 32,
				  REFRESH_INTERVAL = 7000;
				
				var formatNumber = function (d) {
				  var numberFormat = d3.format(",.0"); // zero decimal places
				  return numberFormat(d);
				},
				
				formatFlow = function (d) {
				  var flowFormat = d3.format(",.0f"); // zero decimal places with sign
				  return "£" + flowFormat(Math.abs(d)) + (d < 0 ? " CR" : " DR");
				},
				
				// Used when temporarily disabling user interractions to allow animations to complete
				disableUserInterractions = function (time) {
				  isTransitioning = true;
				  setTimeout(function(){
				    isTransitioning = false;
				  }, time);
				},
				
				hideTooltip = function () {
				  return tooltip.transition()
				    .duration(TRANSITION_DURATION)
				    .style("opacity", 0);
				},
				
				showTooltip = function () {
				  return tooltip
				    .style("left", d3.event.pageX - 200 + "px")
				    .style("top", d3.event.pageY - 2600 + "px")
				    .transition()
				      .duration(TRANSITION_DURATION)
				      .style("opacity", 1);
				};
				
				colorScale = d3.scale.ordinal().domain(TYPES).range(TYPE_COLORS),
				highlightColorScale = d3.scale.ordinal().domain(TYPES).range(TYPE_HIGHLIGHT_COLORS),
				svg = d3.select("#sankey1").append("svg")
				        .attr("width", WIDTH + MARGIN.LEFT + MARGIN.RIGHT)
				        .attr("height", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM)
				      .append("g")
				        .attr("transform", "translate(" + MARGIN.LEFT + "," + MARGIN.TOP + ")");
				
				svg.append("g").attr("id", "links");
				svg.append("g").attr("id", "nodes");
				svg.append("g").attr("id", "collapsers");
				
				tooltip = d3.select("#sankey1").append("div").attr("id", "tooltip");
				
				tooltip.style("opacity", 0)
				    .append("p")
				      .attr("class", "value");
				
				biHiSankey = d3.biHiSankey();
				
				// Set the biHiSankey diagram properties
				biHiSankey
				  .nodeWidth(NODE_WIDTH)
				  .nodeSpacing(10)
				  .linkSpacing(4)
				  .arrowheadScaleFactor(0.5) // Specifies that 0.5 of the link's stroke WIDTH should be allowed for the marker at the end of the link.
				  .size([WIDTH, HEIGHT]);
				
				path = biHiSankey.link().curvature(0.45);
				
				defs = svg.append("defs");
				
				defs.append("marker")
				  .style("fill", LINK_COLOR)
				  .attr("id", "arrowHead")
				  .attr("viewBox", "0 0 6 10")
				  .attr("refX", "1")
				  .attr("refY", "5")
				  .attr("markerUnits", "strokeWidth")
				  .attr("markerWidth", "1")
				  .attr("markerHeight", "1")
				  .attr("orient", "auto")
				  .append("path")
				    .attr("d", "M 0 0 L 1 0 L 6 5 L 1 10 L 0 10 z");
				
				defs.append("marker")
				  .style("fill", OUTFLOW_COLOR)
				  .attr("id", "arrowHeadInflow")
				  .attr("viewBox", "0 0 6 10")
				  .attr("refX", "1")
				  .attr("refY", "5")
				  .attr("markerUnits", "strokeWidth")
				  .attr("markerWidth", "1")
				  .attr("markerHeight", "1")
				  .attr("orient", "auto")
				  .append("path")
				    .attr("d", "M 0 0 L 1 0 L 6 5 L 1 10 L 0 10 z");
				
				defs.append("marker")
				  .style("fill", INFLOW_COLOR)
				  .attr("id", "arrowHeadOutlow")
				  .attr("viewBox", "0 0 6 10")
				  .attr("refX", "1")
				  .attr("refY", "5")
				  .attr("markerUnits", "strokeWidth")
				  .attr("markerWidth", "1")
				  .attr("markerHeight", "1")
				  .attr("orient", "auto")
				  .append("path")
				    .attr("d", "M 0 0 L 1 0 L 6 5 L 1 10 L 0 10 z");
				
				function update () {
				  var link, linkEnter, node, nodeEnter, collapser, collapserEnter;
				
				  function dragmove(node) {
				    node.x = Math.max(0, Math.min(WIDTH - node.width, d3.event.x));
				    node.y = Math.max(0, Math.min(HEIGHT - node.height, d3.event.y));
				    d3.select(this).attr("transform", "translate(" + node.x + "," + node.y + ")");
				    biHiSankey.relayout();
				    svg.selectAll(".node").selectAll("rect").attr("height", function (d) { return d.height; });
				    link.attr("d", path);
				  }
				
				  function containChildren(node) {
				    node.children.forEach(function (child) {
				      child.state = "contained";
				      child.parent = this;
				      child._parent = null;
				      containChildren(child);
				    }, node);
				  }
				
				  function expand(node) {
				    node.state = "expanded";
				    node.children.forEach(function (child) {
				      child.state = "collapsed";
				      child._parent = this;
				      child.parent = null;
				      containChildren(child);
				    }, node);
				  }
				
				  function collapse(node) {
				    node.state = "collapsed";
				    containChildren(node);
				  }
				
				  function restoreLinksAndNodes() {
				    link
				      .style("stroke", LINK_COLOR)
				      .style("marker-end", function () { return 'url(#arrowHead)'; })
				      .transition()
				        .duration(TRANSITION_DURATION)
				        .style("opacity", OPACITY.LINK_DEFAULT);
				
				    node
				      .selectAll("rect")
				        .style("fill", function (d) {
				          d.color = colorScale(d.type.replace(/ .*/, ""));
				          return d.color;
				        })
				        .style("stroke", function (d) {
				          return d3.rgb(colorScale(d.type.replace(/ .*/, ""))).darker(0.1);
				        })
				        .style("fill-opacity", OPACITY.NODE_DEFAULT);
				
				    node.filter(function (n) { return n.state === "collapsed"; })
				      .transition()
				        .duration(TRANSITION_DURATION)
				        .style("opacity", OPACITY.NODE_DEFAULT);
				  }
				
				  function showHideChildren(node) {
				    disableUserInterractions(2 * TRANSITION_DURATION);
				    hideTooltip();
				    if (node.state === "collapsed") { expand(node); }
				    else { collapse(node); }
				
				    biHiSankey.relayout();
				    update();
				    link.attr("d", path);
				    restoreLinksAndNodes();
				  }
				
				  function highlightConnected(g) {
				    link.filter(function (d) { return d.source === g; })
				      .style("marker-end", function () { return 'url(#arrowHeadInflow)'; })
				      .style("stroke", OUTFLOW_COLOR)
				      .style("opacity", OPACITY.LINK_DEFAULT);
				
				    link.filter(function (d) { return d.target === g; })
				      .style("marker-end", function () { return 'url(#arrowHeadOutlow)'; })
				      .style("stroke", INFLOW_COLOR)
				      .style("opacity", OPACITY.LINK_DEFAULT);
				  }
				
				  function fadeUnconnected(g) {
				    link.filter(function (d) { return d.source !== g && d.target !== g; })
				      .style("marker-end", function () { return 'url(#arrowHead)'; })
				      .transition()
				        .duration(TRANSITION_DURATION)
				        .style("opacity", OPACITY.LINK_FADED);
				
				    node.filter(function (d) {
				      return (d.name === g.name) ? false : !biHiSankey.connected(d, g);
				    }).transition()
				      .duration(TRANSITION_DURATION)
				      .style("opacity", OPACITY.NODE_FADED);
				  }
				
				  link = svg.select("#links").selectAll("path.link")
				    .data(biHiSankey.visibleLinks(), function (d) { return d.id; });
				
				  link.transition()
				    .duration(TRANSITION_DURATION)
				    .style("stroke-WIDTH", function (d) { return Math.max(1, d.thickness); })
				    .attr("d", path)
				    .style("opacity", OPACITY.LINK_DEFAULT);
				
				
				  link.exit().remove();
				
				
				  linkEnter = link.enter().append("path")
				    .attr("class", "link")
				    .style("fill", "none");
				
				  linkEnter.on('mouseenter', function (d) {
				    if (!isTransitioning) {
				      showTooltip().select(".value").text(function () {
				        if (d.direction > 0) {
				          return d.source.name + " → " + d.target.name + "\n" + formatNumber(d.value);
				        }
				        return d.target.name + " ← " + d.source.name + "\n" + formatNumber(d.value);
				      });
				
				      d3.select(this)
				        .style("stroke", LINK_COLOR)
				        .transition()
				          .duration(TRANSITION_DURATION / 2)
				          .style("opacity", OPACITY.LINK_HIGHLIGHT);
				    }
				  });
				
				  linkEnter.on('mouseleave', function () {
				    if (!isTransitioning) {
				      hideTooltip();
				
				      d3.select(this)
				        .style("stroke", LINK_COLOR)
				        .transition()
				          .duration(TRANSITION_DURATION / 2)
				          .style("opacity", OPACITY.LINK_DEFAULT);
				    }
				  });
				
				  linkEnter.sort(function (a, b) { return b.thickness - a.thickness; })
				    .classed("leftToRight", function (d) {
				      return d.direction > 0;
				    })
				    .classed("rightToLeft", function (d) {
				      return d.direction < 0;
				    })
				    .style("marker-end", function () {
				      return 'url(#arrowHead)';
				    })
				    .style("stroke", LINK_COLOR)
				    .style("opacity", 0)
				    .transition()
				      .delay(TRANSITION_DURATION)
				      .duration(TRANSITION_DURATION)
				      .attr("d", path)
				      .style("stroke-WIDTH", function (d) { return Math.max(1, d.thickness); })
				      .style("opacity", OPACITY.LINK_DEFAULT);
				
				
				  node = svg.select("#nodes").selectAll(".node")
				      .data(biHiSankey.collapsedNodes(), function (d) { return d.id; });
				
				
				  node.transition()
				    .duration(TRANSITION_DURATION)
				    .attr("transform", function (d) { return "translate(" + d.x + "," + d.y + ")"; })
				    .style("opacity", OPACITY.NODE_DEFAULT)
				    .select("rect")
				      .style("fill", function (d) {
				        d.color = colorScale(d.type.replace(/ .*/, ""));
				        return d.color;
				      })
				      .style("stroke", function (d) { return d3.rgb(colorScale(d.type.replace(/ .*/, ""))).darker(0.1); })
				      .style("stroke-WIDTH", "1px")
				      .attr("height", function (d) { return d.height; })
				      .attr("width", biHiSankey.nodeWidth());
				
				
				  node.exit()
				    .transition()
				      .duration(TRANSITION_DURATION)
				      .attr("transform", function (d) {
				        var collapsedAncestor, endX, endY;
				        collapsedAncestor = d.ancestors.filter(function (a) {
				          return a.state === "collapsed";
				        })[0];
				        endX = collapsedAncestor ? collapsedAncestor.x : d.x;
				        endY = collapsedAncestor ? collapsedAncestor.y : d.y;
				        return "translate(" + endX + "," + endY + ")";
				      })
				      .remove();
				
				
				  nodeEnter = node.enter().append("g").attr("class", "node");
				
				  nodeEnter
				    .attr("transform", function (d) {
				      var startX = d._parent ? d._parent.x : d.x,
				          startY = d._parent ? d._parent.y : d.y;
				      return "translate(" + startX + "," + startY + ")";
				    })
				    .style("opacity", 1e-6)
				    .transition()
				      .duration(TRANSITION_DURATION)
				      .style("opacity", OPACITY.NODE_DEFAULT)
				      .attr("transform", function (d) { return "translate(" + d.x + "," + d.y + ")"; });
				
				  nodeEnter.append("text");
				  nodeEnter.append("rect")
				    .style("fill", function (d) {
				      d.color = colorScale(d.type.replace(/ .*/, ""));
				      return d.color;
				    })
				    .style("stroke", function (d) {
				      return d3.rgb(colorScale(d.type.replace(/ .*/, ""))).darker(0.1);
				    })
				    .style("stroke-WIDTH", "1px")
				    .attr("height", function (d) { return d.height; })
				    .attr("width", biHiSankey.nodeWidth());
				
				  node.on("mouseenter", function (g) {
				    if (!isTransitioning) {
				      restoreLinksAndNodes();
				      highlightConnected(g);
				      fadeUnconnected(g);
				
				      d3.select(this).select("rect")
				        .style("fill", function (d) {
				          d.color = d.netFlow > 0 ? INFLOW_COLOR : OUTFLOW_COLOR;
				          return d.color;
				        })
				        .style("stroke", function (d) {
				          return d3.rgb(d.color).darker(0.1);
				        })
				        .style("fill-opacity", OPACITY.LINK_DEFAULT);
				
				      tooltip
				        .style("left", g.x + MARGIN.LEFT + 400 + "px")
				        .style("top", g.y + g.height + MARGIN.TOP + 35 + "px")
				        .transition()
				          .duration(TRANSITION_DURATION)
				          .style("opacity", 1).select(".value")
				          .text(function () {
				            var additionalInstructions = g.children.length ? "\n(Double click to expand)" : "";
				            return g.name + "\n百分比: " + g.number + "%" ;//+ additionalInstructions;
				          });
				    }
				  });
				
				  node.on("mouseleave", function () {
				    if (!isTransitioning) {
				      hideTooltip();
				      restoreLinksAndNodes();
				    }
				  });
				
				  node.filter(function (d) { return d.children.length; })
				    .on("dblclick", showHideChildren);
				
				  // allow nodes to be dragged to new positions
				  node.call(d3.behavior.drag()
				    .origin(function (d) { return d; })
				    .on("dragstart", function () { this.parentNode.appendChild(this); })
				    .on("drag", dragmove));
				
				  // add in the text for the nodes
				  node.filter(function (d) { return d.value !== 0; })
				    .select("text")
				      .attr("x", -6)
				      .attr("y", function (d) { return d.height / 2; })
				      .attr("dy", ".35em")
				      .attr("text-anchor", "end")
				      .attr("transform", null)
				      .text(function (d) { return d.name; })
				    .filter(function (d) { return d.x < WIDTH / 2; })
				      .attr("x", 6 + biHiSankey.nodeWidth())
				      .attr("text-anchor", "start");
				
				
				  collapser = svg.select("#collapsers").selectAll(".collapser")
				    .data(biHiSankey.expandedNodes(), function (d) { return d.id; });
				
				
				  collapserEnter = collapser.enter().append("g").attr("class", "collapser");
				
				  collapserEnter.append("circle")
				    .attr("r", COLLAPSER.RADIUS)
				    .style("fill", function (d) {
				      d.color = colorScale(d.type.replace(/ .*/, ""));
				      return d.color;
				    });
				
				  collapserEnter
				    .style("opacity", OPACITY.NODE_DEFAULT)
				    .attr("transform", function (d) {
				      return "translate(" + (d.x + d.width / 2) + "," + (d.y + COLLAPSER.RADIUS) + ")";
				    });
				
				  collapserEnter.on("dblclick", showHideChildren);
				
				  collapser.select("circle")
				    .attr("r", COLLAPSER.RADIUS);
				
				  collapser.transition()
				    .delay(TRANSITION_DURATION)
				    .duration(TRANSITION_DURATION)
				    .attr("transform", function (d, i) {
				      return "translate("
				        + (COLLAPSER.RADIUS + i * 2 * (COLLAPSER.RADIUS + COLLAPSER.SPACING))
				        + ","
				        + (-COLLAPSER.RADIUS - OUTER_MARGIN)
				        + ")";
				    });
				
				  collapser.on("mouseenter", function (g) {
				    if (!isTransitioning) {
				      showTooltip().select(".value")
				        .text(function () {
				          return g.name + "\n(Double click to collapse)";
				        });
				
				      var highlightColor = highlightColorScale(g.type.replace(/ .*/, ""));
				
				      d3.select(this)
				        .style("opacity", OPACITY.NODE_HIGHLIGHT)
				        .select("circle")
				          .style("fill", highlightColor);
				
				      node.filter(function (d) {
				        return d.ancestors.indexOf(g) >= 0;
				      }).style("opacity", OPACITY.NODE_HIGHLIGHT)
				        .select("rect")
				          .style("fill", highlightColor);
				    }
				  });
				
				  collapser.on("mouseleave", function (g) {
				    if (!isTransitioning) {
				      hideTooltip();
				      d3.select(this)
				        .style("opacity", OPACITY.NODE_DEFAULT)
				        .select("circle")
				          .style("fill", function (d) { return d.color; });
				
				      node.filter(function (d) {
				        return d.ancestors.indexOf(g) >= 0;
				      }).style("opacity", OPACITY.NODE_DEFAULT)
				        .select("rect")
				          .style("fill", function (d) { return d.color; });
				    }
				  });
				
				  collapser.exit().remove();
				
				}
				
				var exampleNodes = [
				  {"type":"欢迎","id":"a","parent":null,number:"100","name":"欢迎"},
				  {"type":"欢迎","id":1,"parent":"a","number":"101","name":"Cash"},
				  
				  {"type":"信用卡业务","id":"b","parent":null,"number":"20","name":"信用卡业务"},
				  {"type":"信用卡业务","id":2,"parent":"b","number":"210","name":"信用卡业务"},
				  
				  {"type":"网上银行业务","id":"c","parent":null,"number":"25","name":"网上银行业务"},
				  {"type":"网上银行业务","id":3,"parent":"c","number":"230","name":"网上银行业务"},
				  
				  {"type":"投诉与相关建议","id":"d","parent":null,"number":"30","name":"投诉与相关建议"},
				  {"type":"投诉与相关建议","id":4,"parent":"d","number":"100","name":"投诉与相关建议"},
				  
				  {"type":"人工服务","id":"e","parent":null,"number":"10","name":"人工服务"},
				  {"type":"人工服务","id":5,"parent":"e","number":"310","name":"人工服务"},
				  
				  {"type":"信用卡挂失","id":"f","parent":null,"number":"5","name":"信用卡挂失"},
				  {"type":"信用卡挂失","id":6,"parent":"f","number":"910","name":"信用卡挂失"},
				  
				  {"type":"查询","id":"g","parent":null,"number":"6","name":"查询"},
				  {"type":"查询","id":7,"parent":"g","number":"500","name":"查询"}
				]
				
				var exampleLinks = [
				  {"source":1, "target":2, "value":200},
				  {"source":1, "target":4, "value":300},
				  {"source":1, "target":5, "value":100},
				  {"source":1, "target":3, "value":250},
				  {"source":2, "target":6, "value":50},
				  {"source":5, "target":7, "value":60}
				]
				
				biHiSankey
				  .nodes(exampleNodes)
				  .links(exampleLinks)
				  .initializeNodes(function (node) {
				    node.state = node.parent ? "contained" : "collapsed";
				  })
				  .layout(LAYOUT_INTERATIONS);
				
				disableUserInterractions(2 * TRANSITION_DURATION);
				
				update();
			});
      	</script>
    </body>

</html>